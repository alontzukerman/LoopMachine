(this.webpackJsonpLoopMachine=this.webpackJsonpLoopMachine||[]).push([[0],{39:function(n,e,t){"use strict";t.r(e),e.default=t.p+"static/media/120_future_funk_beats_25.5eb417fc.mp3"},49:function(n,e,t){},50:function(n,e,t){},59:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t(0),i=t.n(c),a=t(13),o=t.n(a),s=(t(49),t(2)),u=t(4),f=(t.p,t(50),t(3)),d=i.a.createContext(0),l=function(n,e){document.addEventListener(n,(function(n){return e(n.detail)}))},h=function(n,e){document.dispatchEvent(new CustomEvent(n,{detail:e}))};function b(){var n=Object(s.a)(["\n  cursor: pointer;\n  border: 1px solid #f9f9f9;\n  box-shadow: 0 0 5px 2px rgba(50, 50, 50, 0.5);\n  ","\n"]);return b=function(){return n},n}var p=f.a.div(b(),(function(n){return n.isOn?n.isPlaying?"\n    border: 0 ;\n    animation: backgroundDancing 3s ease infinite;\n    ":"background-color: rgb(110, 126, 214);":"background-color: '';"})),j=function(n){var e=n.isPlaying,t=n.audioFile,i=Object(c.useState)(!1),a=Object(u.a)(i,2),o=a[0],s=a[1],f=Object(c.useRef)(null),h=Object(c.useContext)(d);return Object(c.useEffect)((function(){f.current.load(),f.current.loop=!0}),[]),Object(c.useEffect)((function(){l("resetPads",(function(){s(!1)})),l("setPadsOn",(function(n){var e=n.message;s(e)}))}),[]),Object(c.useEffect)((function(){e&&o?(f.current.currentTime=h.timeInSeconds,f.current.play()):f.current.pause()}),[e,o]),Object(r.jsx)(p,{reset:0===h.timeInSeconds,isPlaying:e,isOn:o,onClick:function(){return function(){if(!e)return s(!o);o?f.current.pause():(f.current.currentTime=h.timeInSeconds,f.current.play()),s(!o)}()},children:Object(r.jsx)("audio",{ref:f,src:t})})},g=(t(52),t(33)),m=t.n(g),x=t(32),v=t.n(x),O=t(34),w=t.n(O),k=t(31),y=t.n(k),S=t(27),C=t.n(S),E=t(35),R=t.n(E),P=t(36),B=t.n(P),M=t(38),U=t.n(M),_=t(37),A=t.n(_),I=(t(53),t(24)),L=t(25),F=t(26),T=t.n(F),z=function(){function n(e,t){var r=this;Object(I.a)(this,n),this.config={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},Object.assign(this.config,t),this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(n){if(r.recording){for(var e=[],t=0;t<r.config.numChannels;t++)e.push(n.inputBuffer.getChannelData(t));r.worker.postMessage({command:"record",buffer:e})}},e.connect(this.node),this.node.connect(this.context.destination);this.worker=new T.a((function(){var n,e,t=0,r=[];function c(){for(var n=0;n<e;n++)r[n]=[]}function i(n,e){for(var t=new Float32Array(e),r=0,c=0;c<n.length;c++)t.set(n[c],r),r+=n[c].length;return t}function a(n,e,t){for(var r=0;r<t.length;r++)n.setUint8(e+r,t.charCodeAt(r))}this.onmessage=function(o){switch(o.data.command){case"init":s=o.data.config,n=s.sampleRate,e=s.numChannels,c();break;case"record":!function(n){for(var c=0;c<e;c++)r[c].push(n[c]);t+=n[0].length}(o.data.buffer);break;case"exportWAV":!function(c){for(var o,s=[],u=0;u<e;u++)s.push(i(r[u],t));o=2===e?function(n,e){var t=n.length+e.length,r=new Float32Array(t),c=0,i=0;for(;c<t;)r[c++]=n[i],r[c++]=e[i],i++;return r}(s[0],s[1]):s[0];var f=function(t){var r=new ArrayBuffer(44+2*t.length),c=new DataView(r);return a(c,0,"RIFF"),c.setUint32(4,36+2*t.length,!0),a(c,8,"WAVE"),a(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,1,!0),c.setUint16(22,e,!0),c.setUint32(24,n,!0),c.setUint32(28,4*n,!0),c.setUint16(32,2*e,!0),c.setUint16(34,16,!0),a(c,36,"data"),c.setUint32(40,2*t.length,!0),function(n,e,t){for(var r=0;r<t.length;r++,e+=2){var c=Math.max(-1,Math.min(1,t[r]));n.setInt16(e,c<0?32768*c:32767*c,!0)}}(c,44,t),c}(o),d=new Blob([f],{type:c});this.postMessage({command:"exportWAV",data:d})}(o.data.type);break;case"getBuffer":!function(){for(var n=[],c=0;c<e;c++)n.push(i(r[c],t));this.postMessage({command:"getBuffer",data:n})}();break;case"clear":t=0,r=[],c()}var s}}),{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(n){var e=r.callbacks[n.data.command].pop();"function"==typeof e&&e(n.data.data)}}return Object(L.a)(n,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(n){if(!(n=n||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(n),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(n,e){if(e=e||this.config.mimeType,!(n=n||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(n),this.worker.postMessage({command:"exportWAV",type:e})}}],[{key:"forceDownload",value:function(n,e){var t=(window.URL||window.webkitURL).createObjectURL(n),r=window.document.createElement("a");r.href=t,r.download=e||"output.wav";var c=document.createEvent("Event");c.initEvent("click",!0,!0),r.dispatchEvent(c)}}]),n}();function V(){var n=Object(s.a)(["\n  height: 40px;\n  width: 150px;\n  font-size: 1.5em;\n  font-weight: bold;\n  letter-spacing: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(139, 82, 82);\n  border-radius: 5px;\n"]);return V=function(){return n},n}function W(){var n=Object(s.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  display: flex;\n  background-color: rgb(139, 82, 82);\n  border-radius: 50%;\n  margin-right: 10px;\n  justify-content: center;\n  align-items: center;\n  &:hover {\n    background-color: rgb(119, 53, 53);\n  }\n"]);return W=function(){return n},n}function D(){var n=Object(s.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return D=function(){return n},n}function J(){var n=Object(s.a)(["\n  height: 90px;\n  width: 95%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return J=function(){return n},n}function G(){var n=Object(s.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  margin-top: -30px;\n"]);return G=function(){return n},n}function X(){var n=Object(s.a)(["\n  height: 100px;\n  width: 100%;\n  background-color: rgba(100, 100, 100, 0.6);\n  color: #f9f9f9;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0;\n  transition: transform 0.2s ease;\n  transform: ",";\n  @media (max-width: 480px) {\n    & > div:nth-child(2) {\n      flex-direction: column-reverse ;\n    }\n  }\n"]);return X=function(){return n},n}var Y=f.a.div(X(),(function(n){return n.toggle?"translateY(0)":"translateY(90px)"})),N=f.a.div(G()),q=f.a.div(J()),H=f.a.div(D()),K=f.a.div(W()),Q=f.a.div(V()),Z=function(n){var e=n.handleState,t=Object(c.useState)(!1),i=Object(u.a)(t,2),a=i[0],o=i[1],s=Object(c.useState)(!1),f=Object(u.a)(s,2),l=f[0],b=f[1],p=Object(c.useState)(!1),j=Object(u.a)(p,2),g=j[0],x=j[1],O=Object(c.useState)(null),k=Object(u.a)(O,2),S=k[0],E=k[1],P=Object(c.useRef)(null),M=Object(c.useContext)(d),_=function(n){n||n!==a||(M.setTimeInSeconds(0),h("resetPads",{message:"reset pads"})),n!==a&&(o(n),e(n))},I=function(n){h("setPadsOn",{message:n})},L=function(){g?(S.stop(),S.exportWAV((function(n){var e=URL.createObjectURL(n),t=Date.now();h("newRecord",{newRecord:{record:e,date:t}})}))):function(){var n=null;navigator.mediaDevices.getDisplayMedia({audio:!0,video:!0}).then((function(e){var t=(new window.AudioContext).createMediaStreamSource(e);(n=new z(t,{numChannels:1})).record(),E(n)})).catch((function(n){x(!1),console.log(n)}))}(),x(!g)};return Object(r.jsxs)(Y,{toggle:l,children:[Object(r.jsx)(N,{onClick:function(){b(!l)},children:l?Object(r.jsx)(C.a,{fontSize:"large"}):Object(r.jsx)(y.a,{fontSize:"large"})}),Object(r.jsxs)(q,{children:[Object(r.jsxs)(H,{children:[Object(r.jsx)(K,{onClick:function(){return _(!a)},children:a?Object(r.jsx)(v.a,{fontSize:"large"}):Object(r.jsx)(m.a,{fontSize:"large"})}),Object(r.jsx)(K,{onClick:function(){return _(!1)},children:Object(r.jsx)(w.a,{fontSize:"large"})}),Object(r.jsx)(K,{onClick:function(){return I(!1)},children:Object(r.jsx)(R.a,{})}),Object(r.jsx)(K,{onClick:function(){return I(!0)},children:Object(r.jsx)(B.a,{})}),Object(r.jsx)(K,{onClick:function(){return L()},children:g?Object(r.jsx)(A.a,{}):Object(r.jsx)(U.a,{fontSize:"small"})})]}),Object(r.jsx)(Q,{children:"00:0".concat(M.timeInSeconds.toFixed(0))})]}),Object(r.jsx)("audio",{ref:P})]})},$=t(39),nn=t.p+"static/media/120_stutter_breakbeats_16.37c82282.mp3",en=t.p+"static/media/Bass Warwick heavy funk groove on E 120 BPM.52c24c81.mp3",tn=t.p+"static/media/electric guitar coutry slide 120bpm - B.230fcab8.mp3",rn=t.p+"static/media/FUD_120_StompySlosh.27bdc145.mp3",cn=t.p+"static/media/GrooveB_120bpm_Tanggu.3e1411b4.mp3",an=t.p+"static/media/MazePolitics_120_Perc.2d08c654.mp3",on=t.p+"static/media/PAS3GROOVE1.03B.f77c6da4.mp3",sn=t.p+"static/media/SilentStar_120_Em_OrganSynth.f2d668af.mp3";console.log((function(n){return Promise.resolve().then(t.bind(null,39))}));var un=[$.default,nn,en,tn,rn,cn,an,on,sn],fn=t(41),dn=t.n(fn),ln=t(40),hn=t.n(ln);function bn(){var n=Object(s.a)(["\n  margin-right: 5px;\n"]);return bn=function(){return n},n}function pn(){var n=Object(s.a)(["\n  display: flex;\n  padding: 10px;\n"]);return pn=function(){return n},n}var jn=f.a.div(pn()),gn=f.a.span(bn()),mn=function(n){var e=n.record,t=Object(c.useState)(!1),i=Object(u.a)(t,2),a=i[0],o=i[1],s=Object(c.useRef)(null);Object(c.useEffect)((function(){s.current.load(),s.current.loop=!1}),[]);var f=function(){a?(s.current.pause(),s.current.currentTime=0):s.current.play(),o(!a)};return Object(r.jsxs)(jn,{children:[Object(r.jsx)(gn,{onClick:function(){return f()},children:a?Object(r.jsx)(hn.a,{}):Object(r.jsx)(dn.a,{})}),Object(r.jsx)(gn,{children:e.date}),Object(r.jsx)("audio",{ref:s,src:e.record})]})},xn=t(42),vn=t.n(xn);function On(){var n=Object(s.a)(["\ncursor: pointer; \n  background-color: rgb(139, 82, 82);\n  width: 70px;\n  margin: 5px 0;\n  margin-left: -60px;\n  padding: 5px 0px 5px 10px;\n  display: ",";\n  align-items: center;\n"]);return On=function(){return n},n}function wn(){var n=Object(s.a)(["\n  background-color: rgba(100, 100, 100, 0.6);\n  box-shadow: 0 0 3px 1px rgba(50,50,50,0.5);\n  color: #f9f9f9 ;\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 200px;\n  display: flex;\n  align-items: center;\n  transition: transform 0.2s ease;\n  transform: ",";\n"]);return wn=function(){return n},n}var kn=f.a.div(wn(),(function(n){return n.open?"translateX(0)":"translateX(100%)"})),yn=f.a.div(On(),(function(n){return n.hasRecord?"flex":"none"})),Sn=function(){var n=Object(c.useState)([]),e=Object(u.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)(!1),o=Object(u.a)(a,2),s=o[0],f=o[1];return console.log(t),Object(c.useEffect)((function(){l("newRecord",(function(n){var e=n.newRecord;console.log(e),i([e])}))}),[]),Object(r.jsxs)(kn,{open:s,children:[Object(r.jsx)(yn,{hasRecord:t.length>0,onClick:function(){f(!s)},children:Object(r.jsx)(vn.a,{fontSize:"large"})}),t.map((function(n,e){return Object(r.jsx)(mn,{record:n},e)}))]})};function Cn(){var n=Object(s.a)(["\n  height: 400px;\n  width: 400px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 10px;\n"]);return Cn=function(){return n},n}function En(){var n=Object(s.a)(["\n  text-align: center;\n  font-size: 2em;\n  color: #f9f9f9;\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  margin: 50px 0;\n"]);return En=function(){return n},n}function Rn(){var n=Object(s.a)(["\n  background-color: rgb(20, 20, 20);\n  height: 100vh;\n  width: 100vw;\n  position: relative;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media (max-width: 768px) {\n    & > div:nth-child(2) {\n      height: 350px;\n      width: 350px;\n    }\n  }\n  @media (max-width: 480px) {\n    & > div:nth-child(2) {\n      height: 330px;\n      width: 330px;\n    }\n  }\n"]);return Rn=function(){return n},n}var Pn=f.a.div(Rn()),Bn=f.a.h2(En()),Mn=f.a.div(Cn()),Un=function(){var n=Object(c.useState)(!1),e=Object(u.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)(0),o=Object(u.a)(a,2),s=o[0],f=o[1],l=Object(c.useState)([]),h=Object(u.a)(l,2),b=h[0];return h[1],Object(c.useEffect)((function(){if(t){var n=setInterval((function(){f((s+.01)%8)}),10);return function(){return clearInterval(n)}}})),Object(r.jsx)(d.Provider,{value:{timeInSeconds:s,setTimeInSeconds:f},children:Object(r.jsxs)(Pn,{children:[Object(r.jsx)(Bn,{children:"Welcome To The Looper"}),Object(r.jsx)(Mn,{children:un.map((function(n,e){return Object(r.jsx)(j,{isPlaying:t,audioFile:n},e)}))}),Object(r.jsx)(Sn,{records:b}),Object(r.jsx)(Z,{handleState:function(n){return i(n)}})]})})},_n=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),c(n),i(n),a(n)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(Un,{})}),document.getElementById("root")),_n()}},[[59,1,2]]]);
//# sourceMappingURL=main.a5543297.chunk.js.map